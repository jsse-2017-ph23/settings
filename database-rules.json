{
  "rules": {
    "users": {
      ".read": "auth.uid === 'fb-functions'",
      "": {
        ".read": " === auth.uid",
      	".write": " === auth.uid"
      }
    },
    "log": {
      ".read": "auth.uid != null",
      "": {
        ".read": "auth.uid != null",
      	".write": "auth.uid === 'fb-functions'",
        ".validate": "newData.hasChildren(['time', 'message'])",
        ".indexOn": ["time"],
        "time": {
          ".validate": "newData.isNumber()"
        },
        "message": {
          ".validate": "newData.isString()"
        }
      }
    },
  	"status": {
      ".read": "auth.uid != null",
      ".write": "auth.uid === 'worker-rpi'",
      ".validate": "newData.isString()"
    },
    "footage": {
      ".read": "auth.uid != null",
    	".write": "auth.uid === 'fb-functions'",
      ".indexOn": "path",
    	"": {
      	".validate": "newData.hasChildren(['time', 'path'])",
        ".indexOn": "path",
      	"time": {
        	".validate": "newData.isNumber()"
      	},
      	"path": {
        	".validate": "newData.isString()"
      	}
    	}
		},
    "mailCount": {
       ".read": "auth.uid != null",
       ".write": "auth.uid != null",
       ".validate": "newData.isNumber()"
    }
  }
}
